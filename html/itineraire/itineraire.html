<link rel="stylesheet" href="../../style/fonts.css">
<div class="top-page">
    <div class="top-page-text-container">
        <div class="top-page-text">Tam | Itinéraire</div>
    </div>
</div>
<div class="middle-page" id="middle-page">
    <div class="trip-container" id="trip-container">
        <div class="horizontal-container">
            <img class="img-trip" src="../../src/start.png">
            <input id="trip-start" class="search-entry" oninput="onInputSearch(this.value, true)" type="search" placeholder="Station de départ">
        </div>
        <div class="trip-spacer"></div>
        <div class="horizontal-container" id="bottom-container">
            <img class="img-trip" src="../../src/destination.png">
            <input id="trip-destination" class="search-entry" oninput="onInputSearch(this.value, false)" type="search" placeholder="Station d'arrivée">
        </div>
        <div class="stations-container" id="stations-container"></div>
    </div>
    <div class="trip-info">
        <select class="arrival-trip-selection" onchange="arrivalChanged(this.value)">
            <option value=true>Partir le</option>
            <option value=false>Arriver le</option>
        </select>
        <button class="date-button" onclick="showPicker('date-picker')">
            <input type="date" style="width: 0; height: 0; border: 0; padding-top: 30px;" id="date-picker" oninput="setDate(new Date(this.value))">
            <div id="date-text" class="date-button-text">Samedi 12 décembre</div>
            <img class="trip-date-image" draggable="false" src="https://cdn-icons-png.flaticon.com/512/833/833593.png">
        </button>
        <button class="time-button" onclick="showPicker('time-picker')">
            <input type="time" style="width: 0; height: 0; border: 0; padding-top: 30px;" id="time-picker" oninput="setTime(this.value)">
            <div id="time-text" class="time-button-text">à 15h43</div>
            <img class="trip-time-image" draggable="false" src="https://cdn-icons-png.flaticon.com/512/992/992700.png">
        </button>
    </div>
    <button class="search-button" id="search-button" onclick="searchItineraire()"><img src="../../src/search.png" class="img-search"><div class="text-search">Rechercher</div></button>
</div>
<script src="../../script/itineraire/itineraire.js"></script>
<style>
   
    * {
        margin: 0 0 0 0;
        padding: 0 0 0 0;
        user-select: none;
    }

    .top-page {
        width: 100%;
        height: 210px;
        background-image: url('https://tram5-montpellier3m.fr/content/uploads/2021/05/2021_04_TaM_Gamme%C2%A9yannickbrossard_039_Maquette_01-1440x400.jpg');
        background-size: 100%;
        background-position: center;
        position: relative;
    }
    
    .top-page-text-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, calc(-50% - 0.5px));
        box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(20px);
        padding: 20px 80px;
        border-radius: 20px;
    }
    
    .top-page-text {
        color: white;
        font-family: "Inter";
        font-weight: 600;
        font-size: 45px;
        white-space: nowrap;
    }

    .middle-page {
        position: relative;
        margin-top: 8%;
        margin-left: 50%;
        transform: translateX(-50%);
        width: 480px;
        height: 250px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .trip-container {
        background-color: white;
        border-radius: 20px;
        box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 12px;
        width: 100%;
        height: 95px;
        display: flex;
        flex-direction: column;
    }

    .horizontal-container {
        display: flex;
        align-items: center;
    }

    .img-trip {
        width: 30px;
        height: 30px;
        margin-left: 15px;
    }

    .search-entry {
        outline: none;
        border: 0; 
        font-family: "Inter";
        font-size: 20px;
        font-weight: 500;
        margin-left: 10px;
        width: calc(100% - 70px);
        background-color: transparent;
        height: 45px;
    }

    .trip-spacer {
        width: 95%;
        height: 2px;
        background-color: rgb(54, 54, 54);
        align-self: center;
    }

    .trip-info {
        margin-top: 30px;
        background-color: white;
        border-radius: 20px;
        box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 12px;
        width: 100%;
        height: 47px;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-items: center;
        justify-content: space-between;
    }

    select {
        appearance: none;
        background: transparent;
        background-image: url('../../src/dropdown.svg');
        background-repeat: no-repeat;
        background-position-x: calc(100% - 10px);
        background-position-y: 50%;
        border: 1px solid #dfdfdf;
    }

    .arrival-trip-selection {
        font-family: "Inter";
        font-weight: 400;
        font-size: 16;
        outline: 0;
        background-color: #ffffff;
        cursor: pointer;
        border: none;
        margin-left: 5px;
        padding-left: 10px;
        width: 110px;
        text-decoration: underline;
        text-decoration-thickness: 2px;
    }

    .date-button {
        border: none;
        outline: 0;
        background-color: transparent;
        cursor: pointer;
        display: flex;  
        align-items: center;
        margin-right: 15px;
    }

    .date-button-text {
        font-family: "Inter";
        font-weight: 400;
        font-size: 16;
        text-transform: capitalize;
    }

    .trip-date-image {
        height: 24px;
        margin-left: 7px;
    }

    .time-button {
        border: none;
        outline: 0;
        background-color: transparent;
        cursor: pointer;
        display: flex;  
        align-items: center;
    }

    .time-button-text {
        font-family: "Inter";
        font-weight: 400;
        font-size: 16;
    }

    .trip-time-image {
        height: 24px;
        margin-left: 7px;
        margin-right: 20px;
    }

    .stations-container {
        position: absolute;
        height: 0px;
        width: 480px;
        overflow-y: auto;
        overflow-x: hidden;
        background-color: white;
        border-radius: 0 0 20px 20px;
        box-shadow: rgba(0, 0, 0, 0) 0px 4px 12px;
        transition: height 0.4s, box-shadow 0.3s;
        clip-path: inset(0px -10px -10px -10px);
    }

    .stations-container.expand {
        height: 180px;
        padding-top: 10px;
        transition: height 0.4s, box-shadow 0.3s, top 0.4s;
        box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 12px;
    }

    .stations-container::-webkit-scrollbar {
        width: 10px;
    }

    .stations-container::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    .stations-container::-webkit-scrollbar-thumb {
        background: black;
        border-radius: 10px;
    }

    .child-result {
        width: 100%;
        height: 45px;
        background-color: white;
        border: 0;
        border-radius: 8px;
        transition: background-color 0.3s;
    }

    .child-result:hover {
        background-color: rgb(157, 185, 207);
    }

    .child-result-container {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: left;
        align-items: center;
    }

    .img-child-result {
        height: 100%;
        width: 27px;
        margin-left: 20px;
        object-fit: contain;
    }

    .text-child-result {
        font-family: "Inter";
        font-weight: 500;
        font-size: 16px;
        text-align: left;
        height: 100%;
        margin-left: 15px;
        display: flex;
        align-items: center;
    }

    .stations-lignes {
        margin-left: auto;
        margin-right: 10px;
        display: flex;
        align-items: center;
    }

    .station-ligne-rect {
        width: 30px;
        height: 30px;
        border-radius: 8px;
        margin-left: 5px;
    }

    .station-ligne-rect-long {
        min-width: 30px;
        height: 30px;
        border-radius: 8px;
        margin-left: 5px;
    }

    .station-ligne-rect-text {
        margin-top: 3px;
        font-family: "Inter";
        font-weight: 600;
        color: white;
        font-size: 18px;
        letter-spacing: -1.5px;
        padding-top: 1px;
        margin-left: -1px;
        text-align: center;
    }

    .station-ligne-rect-text-long {
        margin-top: 3px;
        font-family: "Inter";
        width: max-content;
        font-weight: 600;
        color: white;
        font-size: 18px;
        padding-left: 6px;
        padding-right: 5px;
        margin-left: -1px;
        text-align: center;
    }

    .search-button {
        cursor: pointer;
        height: 47px;
        width: 150px;
        border: none;
        margin-top: 30px;
        background-color: #128be8;
        display: flex;
        align-items: center;
        z-index: -1;
        justify-content: center;
        -webkit-box-shadow:0px 0px 25px 6px rgba(18,139,232,0.3);
        -moz-box-shadow: 0px 0px 25px 6px rgba(18,139,232,0.3);
        box-shadow: 0px 0px 25px 6px rgba(18,139,232,0.3);
        border-radius: 20px;
        transition: scale 0.3s ease-out, box-shadow 0.3s ease-out;
    }

    .search-button:hover {
        -webkit-box-shadow:0px 0px 41px 15px rgba(18,139,232,0.3);
        -moz-box-shadow: 0px 0px 41px 15px rgba(18,139,232,0.3);
        box-shadow: 0px 0px 41px 15px rgba(18,139,232,0.3);
        scale: 108%;
    }

    .img-search {
        filter: invert(1);
        height: 50%;
    }

    .text-search {
        font-family: "Inter";
        font-weight: 400;
        font-size: 16;
        color: white;
        margin-left: 5px;
    }
</style>