<link rel="stylesheet" href="../../style/fonts.css">
<div class="content-loading">
    <img draggable="false" class="image-loading" src="../../src/Logo_MT.png">
    <div class="text-loading">Récupération des informations...</div>
    <div class="progress-bar-loading">
        <div class="full-progress-bar-loading" id="full-progress-bar-loading" style="width: 0%;"></div>
    </div>
</div>
<script src="../../script/loading.js"></script>
<style>
    
    * {
        margin: 0 0 0 0;
        padding: 0 0 0 0;
        user-select: none;
    }
    .content-loading {
        width: 100%;
        height: 100%;
        background-color: #ffffffa4;
        backdrop-filter: blur(20px);
        border-radius: 20px;
        display: flex;
        justify-content: center;
        flex-direction: row;
        align-content: center;
        flex-wrap: wrap;
    }

    .image-loading {
        width: 60%;
        height: 90px;
        object-fit: contain;
    }

    .text-loading {
        font-family: "Inter";
        font-weight: 550;
        font-size: 15px;
        width: 100%;
        text-align: center;
        margin-top: 15px;
    }

    .progress-bar-loading {
        width: 80%;
        height: 6px;
        border-radius: 4px;
        background-color: rgba(255, 255, 255, 0.8);
        margin-top: 15px;
    }
    
    .full-progress-bar-loading {
        height: 6px;
        border-radius: 4px;
        background-color: #2F3C60;
        display: block;
        transition: 1s ease;
    }

    .full-progress-bar-loading.fill {
        width: 100%;
    }
</style>
<script>
    const {ipcRenderer} = parent.require('electron');

    ipcRenderer.on('message', function(event, text) {
        if (String(text).includes("download-progress")) {
            document.getElementById("full-progress-bar-loading").style.width = `${String(text).split(" ")[1]}%`
        }
    });
</script>